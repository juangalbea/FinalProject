(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{36:function(e,t,a){e.exports=a(67)},41:function(e,t,a){},42:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(33),i=a.n(o),c=(a(41),a(9)),l=a(2),u=a(5),s=a(7),m=a(6),h=a(8),g=(a(42),a(13)),p=a(14),d=a(17),f=a.n(d),v=function e(){var t=this;Object(l.a)(this,e),this.signup=function(e,a){return t.service.post("/signup",{username:e,password:a}).then(function(e){return e.data})},this.login=function(e,a){return t.service.post("/login",{username:e,password:a}).then(function(e){return e.data})},this.loggedin=function(){return t.service.get("/userData").then(function(e){return e.data})},this.logout=function(){return t.service.get("/logout").then(function(e){return e.data})},this.service=f.a.create({baseURL:"https://dreams-game.herokuapp.com",withCredentials:!0})},b=a(12),E=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password;a.service.login(t,n).then(function(e){a.setState({username:"",password:""}),a.props.getUser(e)}).catch(function(e){return console.log(e)})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(p.a)({},n,r))},a.state={username:"",password:""},a.service=new v,a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Password:"),r.a.createElement("textarea",{name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("input",{type:"submit",value:"Login"})),r.a.createElement("p",null,"Don't have account?",r.a.createElement(b.b,{to:"/signup"}," Signup")))}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password;a.service.signup(t,n).then(function(e){a.setState({username:"",password:""})}).catch(function(e){return console.log(e)})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(p.a)({},n,r))},a.state={username:"",password:""},a.service=new v,a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:this.state.username,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Password:"),r.a.createElement("textarea",{name:"password",value:this.state.password,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("input",{type:"submit",value:"Signup"})),r.a.createElement("p",null,"Already have account?",r.a.createElement(b.b,{to:"/login"}," Login")))}}]),t}(n.Component),j=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h1",null,this.props.username," DONDE VAMOS HOY??"),r.a.createElement("button",{onClick:function(t){e.props.logout(t)}},"LOGOUT"))}}]),t}(n.Component),C=(a(64),a(32),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).handleChangeImageURL=function(e){a.setState(Object(c.a)({},a.state,{imageURL:e.target.value}))},a.state={error:null,isLoaded:!1,hits:[],imageURL:""},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"updateImages",value:function(e){var t=this;e.preventDefault(),fetch("https://pixabay.com/api/?key=11997623-103c7c4f1fd04d1a3ab285b96&q=".concat(this.state.imageURL,"&image_type=photo&&per_page=20")).then(function(e){return e.json()}).then(function(e){t.setState(Object(c.a)({},t.state,{isLoaded:!0,hits:e.hits}))}).catch(function(e){t.setState({isLoaded:!0,error:e})})}},{key:"componentDidMount",value:function(){var e=this;fetch("https://pixabay.com/api/?key=11997623-103c7c4f1fd04d1a3ab285b96&q=".concat(this.state.imageURL,"&image_type=photo&&per_page=20")).then(function(e){return e.json()}).then(function(t){e.setState({isLoaded:!0,hits:t.hits})}).catch(function(t){e.setState({isLoaded:!0,error:t})})}},{key:"render",value:function(){var e=this;console.log(this.state.imageURL);var t=this.state,a=t.error,n=t.isLoaded,o=t.hits;return a?r.a.createElement("div",null,"Error: ",a.message):n?r.a.createElement("div",null,r.a.createElement("input",{type:"text",placeholder:"imageurl",onChange:this.handleChangeImageURL,name:"imageURL",value:this.state.imageURL}),r.a.createElement("button",{onClick:function(t){return e.updateImages(t)}},"Search"),r.a.createElement("ul",null,o.map(function(t,a){return r.a.createElement("li",{key:a},r.a.createElement("img",{src:t.previewURL,onClick:function(){return e.props.findUrl(t.webformatURL)}}))}))):r.a.createElement("div",null,"Loading...")}}]),t}(n.Component)),y=(a(65),function e(){var t=this;Object(l.a)(this,e),this.game=function(e,a,n,r,o){return t.service.post("/games",{platforms:e,name:a,speed:n,logic:r,imageID:o}).then(function(e){return e.data})},this.comment=function(e,a,n){return t.service.post("/comment",{description:e,userID:a,favourited:n}).then(function(e){return e.data})},this.service=f.a.create({baseURL:"https://dreams-game.herokuapp.com",withCredentials:!0})}),w=(a(66),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).rangeValue=function(e){a.setState(Object(c.a)({},a.state,{arr:new Array(+e.currentTarget.value).fill(0).map(function(e,t){return t+1}),platforms:new Array(+e.currentTarget.value).fill(0).map(function(){return{x:"",y:"",w:"",h:"",color:" "}})}))},a.handleChangeName=function(e){a.setState(Object(c.a)({},a.state,{name:e.target.value}))},a.handleChangeSpeed=function(e){a.setState(Object(c.a)({},a.state,{speed:e.target.value}))},a.handleChangeLogic=function(e){a.setState(Object(c.a)({},a.state,{logic:e.target.value}))},a.handleChangeImageID=function(e){a.setState(Object(c.a)({},a.state,{imageID:e.target.value}))},a.handleChange=function(e){var t=e.currentTarget,n=t.id,r=t.name,o=t.value,i=a.state.platforms;i[n][r]=o,a.setState({newValue:i})},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state.name,n=a.state.speed,r=a.state.logic,o=a.state.imageID,i=a.state.platforms;a.service.game(i,t,n,r,o).then(function(e){console.log(e)}).catch(function(e){return console.log(e)})},a.findUrl=function(e){a.setState(Object(c.a)({},a.state,{imageID:e}))},a.state={arr:new Array(4).fill(0).map(function(e,t){return t+1}),platforms:new Array(4).fill(0).map(function(){return{x:"",y:"",w:"",h:"",color:" "}}),name:"",speed:"",logic:"",imageID:""},a.service=new y,a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("input",{type:"range",min:"4",max:"10",defaultValue:"4",onChange:this.rangeValue}),this.state.arr.map(function(t,a){return r.a.createElement("div",{key:a,className:"platforms"},r.a.createElement("h4",null,"Platform: ",a+1),r.a.createElement("input",{type:"text",id:a,placeholder:"X",onChange:e.handleChange,name:"x"}),r.a.createElement("input",{type:"text",id:a,placeholder:"Y",onChange:e.handleChange,name:"y"}),r.a.createElement("input",{type:"text",id:a,placeholder:"W",onChange:e.handleChange,name:"w"}),r.a.createElement("input",{type:"text",id:a,placeholder:"H",onChange:e.handleChange,name:"h"}),r.a.createElement("input",{type:"text",id:a,className:"colorPlatform",placeholder:"colorPlatform",onChange:e.handleChange,name:"color"}))}),"Otras cosas:",r.a.createElement("input",{type:"text",placeholder:"Name",onChange:this.handleChangeName,name:"gameName"}),r.a.createElement("input",{type:"text",placeholder:"speed",onChange:this.handleChangeSpeed,name:"speed"}),r.a.createElement("input",{type:"text",placeholder:"logic",onChange:this.handleChangeLogic,name:"logic"}),r.a.createElement("input",{type:"text",placeholder:"imageID",onChange:this.handleChangeImageID,name:"imageID",value:this.state.imageID}),r.a.createElement(C,{findUrl:this.findUrl}),r.a.createElement("input",{type:"submit",value:"Submit"})))}}]),t}(n.Component)),S=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).getTheUser=function(e){a.setState(Object(c.a)({},a.state,{loggedInUser:e}))},a.logout=function(e){e.preventDefault(),a.service.logout().then(function(){a.setState({loggedInUser:null},function(){a.props.history.push("/login")})})},a.state={loggedInUser:null},a.service=new v,a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.service.loggedin().then(function(t){console.log(t),e.getTheUser(t)})}},{key:"render",value:function(){var e=this;return this.state.loggedInUser?r.a.createElement(r.a.Fragment,null,r.a.createElement(g.d,null,r.a.createElement(g.b,{exact:!0,path:"/game",render:function(){return r.a.createElement(w,null)}}),r.a.createElement(g.b,{exact:!0,path:"/images",render:function(){return r.a.createElement(C,null)}}),r.a.createElement(g.b,{exact:!0,path:"/login",render:function(){return r.a.createElement(g.a,{to:"/profile"})}}),r.a.createElement(g.b,{exact:!0,path:"/profile",render:function(){return r.a.createElement(j,Object.assign({},e.state.loggedInUser,{logout:e.logout}))}}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(g.d,null,r.a.createElement(g.b,{exact:!0,path:"/login",render:function(){return r.a.createElement(E,Object.assign({},e.state.loggedInUser,{getUser:e.getTheUser}))}}),r.a.createElement(g.b,{exact:!0,path:"/signup",render:function(){return r.a.createElement(O,e.state.loggedInUser)}})))}}]),t}(n.Component),U=Object(g.g)(S);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(b.a,null,r.a.createElement(U,{router:b.a})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[36,1,2]]]);
//# sourceMappingURL=main.22a58601.chunk.js.map